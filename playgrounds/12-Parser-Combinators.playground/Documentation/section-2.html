<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Section 3</title>
  <meta id="xcode-display" name="xcode-display" content="render">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, maximum-scale=1.0">
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>
<body>
<div class="content-wrapper">
  <section class="section">
    <h1 id="parser-combinators">Parser Combinators</h1>
<p>NOTE: this chapter isn&#39;t copy-edited yet, so there&#39;s no need to file issues for things like spelling mistakes. But please do file issues if you find anything unclear or any other kind of feedback regarding the content.</p>
<p>Parsers are a very useful tool: they take a list of tokens (usually, a list of characters) and transform it into a structure. Often, parsers are generated using an external tool, such as <a href="http://en.wikipedia.org/wiki/GNU_bison">Bison</a> or <a href="http://en.wikipedia.org/wiki/Yacc">YACC</a>. Instead of using an external tool, we&#39;ll build a parser library in this chapter, which we can use later for building our own parser. Functional languages are very well suited for this task. </p>
<p>There are several approaches to writing a parsing library. Here we&#39;ll build a <a href="http://en.wikipedia.org/wiki/Parser_combinators">parser combinator</a> library. A parser combinator is a <a href="http://en.wikipedia.org/wiki/Higher_order_function">higher order function</a> that takes several parsers as input and returns a new parser as its output. The library we&#39;ll build is an almost direct port of a Haskell library [^COMB], with a few modifications. </p>
<p>We will start with defining a couple of core combinators. On top of that, we will build some extra convenience functions, and finally, we will show an example that parses arithmetic expressions, such as <code>1 + 3 * 3</code>, and calculates the result.</p>
<h2 id="the-core">The Core</h2>
<p>In this library, we&#39;ll make heavy use of <a href="TODO reference">sequences</a> and slices.</p>
<p>We define a parser as a function that takes a slice of tokens, processes some of these tokens, and returns a tuple of the result and the remainder of the tokens. To make our lifes a bit easier, we wrap this function in a struct (otherwise we&#39;d have to write out the entire type every time). We make our parser generic over 2 types: Token and Result. </p>

  </section>
</div>
</body>
</html>
